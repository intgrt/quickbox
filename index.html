<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuickBox - Wireframe Mockup Tool</title>
  <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- @agent:App:entry -->
  <div id="app">
    <!-- @agent:Toolbar:authority -->
    <!-- Toolbar -->
    <div id="toolbar">
      <div class="toolbar-section branding">
        <img src="media/IIC Logo small.png" alt="IIC Logo" class="logo">
        <div class="branding-text">
          <span class="app-title" id="appTitle">QuickBox</span>
          <span class="copyright">¬© 2025 Intelliscape Interactive Corp.</span>
        </div>
      </div>

      <div class="toolbar-section">
        <button id="newBtn" title="New File">New</button>
        <button id="openBtn" title="Open File">Open</button>
        <button id="saveBtn" title="Save File">Save</button>
      </div>

      <div class="toolbar-section">
        <button id="addTextBtn" title="Add Text Box">+ Text</button>
        <button id="addImageBtn" title="Add Image Box">+ Image</button>
        <button id="addMenuBtn" title="Add Menu Box">+ Menu</button>
        <button id="addButtonBtn" title="Add Button Box">+ Button</button>
        <button id="addAccordionBtn" title="Add Accordion Box">+ Accordion</button>
        <button id="createGroupBtn" title="Create Group - Draw Rectangle to Select Multiple Boxes">Create Group</button>
        <button id="deleteBtn" title="Delete Selected">Delete</button>
      </div>

      <div class="toolbar-section">
        <label>Font:</label>
        <select id="fontSelect">
          <option value="'Architects Daughter', cursive">Architects Daughter</option>
          <option value="'Comic Sans MS', cursive">Comic Sans</option>
          <option value="Arial, sans-serif">Arial</option>
          <option value="'Courier New', monospace">Courier</option>
          <option value="Georgia, serif">Georgia</option>
        </select>

        <label>Size:</label>
        <select id="fontSizeSelect">
          <option value="12">12</option>
          <option value="14">14</option>
          <option value="16" selected>16</option>
          <option value="18">18</option>
          <option value="20">20</option>
          <option value="24">24</option>
          <option value="28">28</option>
          <option value="32">32</option>
        </select>
      </div>

      <div class="toolbar-section">
        <label>Canvas:</label>
        <button id="desktopBtn" class="canvas-size-btn active" title="Desktop (1200px)">Desktop</button>
        <button id="tabletBtn" class="canvas-size-btn" title="Tablet (768px)">Tablet</button>
        <button id="mobileBtn" class="canvas-size-btn" title="Mobile (375px)">Mobile</button>
      </div>

      <div class="toolbar-section">
        <label for="paletteSelector">Palette:</label>
        <select id="paletteSelector">
          <option value="sketch">Sketch</option>
        </select>
        <button id="editPaletteBtn" title="Edit Current Palette">‚úèÔ∏è Edit</button>
        <button id="deletePaletteBtn" title="Delete Current Palette">üóëÔ∏è Delete</button>
      </div>

      <div class="toolbar-section">
        <label>Mode:</label>
        <button id="designModeBtn" class="mode-btn active" title="Design Mode">‚úèÔ∏è</button>
        <button id="navigateModeBtn" class="mode-btn" title="Navigate Mode">üß≠</button>
      </div>
    </div>

    <!-- Main Content Area -->
    <div id="mainContent">
      <!-- @agent:Navigator:authority -->
      <!-- Navigator Panel -->
      <div id="navigatorPanel">
        <!-- Pages Section -->
        <div class="nav-section">
          <div class="nav-section-header">
            <h3>Pages</h3>
            <button id="addPageBtn" title="Add New Page">+</button>
          </div>
          <div id="pagesList"></div>
        </div>

        <!-- Elements Section -->
        <div class="nav-section">
          <h3>Elements</h3>
          <div id="elementsList"></div>
        </div>
      </div>

      <!-- @agent:Canvas:authority -->
      <!-- Canvas -->
      <div id="canvasContainer">
        <div id="canvas">
          <!-- @agent:CanvasResize:extension -->
          <!-- Canvas resize handles -->
          <div class="canvas-resize-handle canvas-resize-right" id="canvasResizeRight" title="Drag to change width"></div>
          <div class="canvas-resize-handle canvas-resize-bottom" id="canvasResizeBottom" title="Drag to change height"></div>
          <div class="canvas-resize-handle canvas-resize-corner" id="canvasResizeCorner" title="Drag to change width and height"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- @agent:MenuEditor:authority -->
  <!-- Menu Editing Panel -->
  <div id="menuEditorPanel" class="hidden">
    <div class="menu-editor-header">
      <h3>Menu Editor</h3>
      <button id="closeMenuEditorBtn">Close</button>
    </div>
    <div class="menu-editor-content">
      <div class="menu-editor-controls">
        <button id="addMenuItemBtn">Add Menu Item</button>
        <button id="addChildMenuItemBtn">Add Child Item</button>
        <button id="saveMenuBtn">Save Menu</button>
      </div>
      <div id="menuItemsList" class="menu-items-list"></div>
    </div>
  </div>

  <!-- @agent:AccordionManagement:authority -->
  <!-- Accordion Editing Panel -->
  <div id="accordionEditorPanel" class="hidden">
    <div class="accordion-editor-header">
      <h3>Edit Accordion</h3>
      <button id="closeAccordionEditorBtn">Close</button>
    </div>
    <div class="accordion-editor-content">
      <div id="accordionItemsList" class="accordion-items-list"></div>
      <div class="accordion-editor-controls">
        <button id="addAccordionItemBtn">+ Add Item</button>
        <button id="saveAccordionBtn">Save</button>
      </div>
    </div>
  </div>

  <!-- @agent:PaletteEditor:authority -->
  <!-- Palette Editor Panel -->
  <div id="paletteEditorPanel" class="palette-editor-panel hidden">
    <div class="palette-editor-header">
      <h3>Edit Palette: <span id="editorPaletteName"></span></h3>
    </div>

    <div class="palette-editor-content">
      <!-- Palette Name Input -->
      <div class="editor-row">
        <label>New Palette Name:</label>
        <input type="text" id="newPaletteName" class="palette-name-input" required placeholder="Enter new palette name">
      </div>

      <!-- Notes Textarea -->
      <div class="editor-row">
        <label>Notes (optional):</label>
        <textarea id="paletteNotes" rows="2" class="palette-notes-input" placeholder="Add notes about this palette"></textarea>
      </div>

      <!-- Canvas/Header/Footer Backgrounds -->
      <div class="editor-section">
        <h4>Backgrounds</h4>
        <div class="editor-row">
          <label>Canvas:</label>
          <input type="color" class="palette-editor-color-picker" data-target="canvasBg">
          <input type="text" id="canvasBg" class="palette-editor-color-input" placeholder="#f5f5f5">
        </div>
        <div class="editor-row">
          <label>Header:</label>
          <input type="color" class="palette-editor-color-picker" data-target="headerBg">
          <input type="text" id="headerBg" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Footer:</label>
          <input type="color" class="palette-editor-color-picker" data-target="footerBg">
          <input type="text" id="footerBg" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
      </div>

      <!-- Text Box Colors -->
      <div class="editor-section">
        <h4>Text Box</h4>
        <div class="editor-row">
          <label>Fill:</label>
          <input type="color" class="palette-editor-color-picker" data-target="textFill">
          <input type="text" id="textFill" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Border:</label>
          <input type="color" class="palette-editor-color-picker" data-target="textBorder">
          <input type="text" id="textBorder" class="palette-editor-color-input" placeholder="#333333">
        </div>
        <div class="editor-row">
          <label>Text Color:</label>
          <input type="color" class="palette-editor-color-picker" data-target="textColor">
          <input type="text" id="textColor" class="palette-editor-color-input" placeholder="#000000">
        </div>
      </div>

      <!-- Image Box Colors -->
      <div class="editor-section">
        <h4>Image Box</h4>
        <div class="editor-row">
          <label>Fill:</label>
          <input type="color" class="palette-editor-color-picker" data-target="imageFill">
          <input type="text" id="imageFill" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Border:</label>
          <input type="color" class="palette-editor-color-picker" data-target="imageBorder">
          <input type="text" id="imageBorder" class="palette-editor-color-input" placeholder="#333333">
        </div>
        <div class="editor-row">
          <label>Text Color:</label>
          <input type="color" class="palette-editor-color-picker" data-target="imageColor">
          <input type="text" id="imageColor" class="palette-editor-color-input" placeholder="#666666">
        </div>
      </div>

      <!-- Menu Box Colors -->
      <div class="editor-section">
        <h4>Menu Box</h4>
        <div class="editor-row">
          <label>Fill:</label>
          <input type="color" class="palette-editor-color-picker" data-target="menuFill">
          <input type="text" id="menuFill" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Border:</label>
          <input type="color" class="palette-editor-color-picker" data-target="menuBorder">
          <input type="text" id="menuBorder" class="palette-editor-color-input" placeholder="#333333">
        </div>
        <div class="editor-row">
          <label>Text Color:</label>
          <input type="color" class="palette-editor-color-picker" data-target="menuColor">
          <input type="text" id="menuColor" class="palette-editor-color-input" placeholder="#000000">
        </div>
      </div>

      <!-- Button Box Colors -->
      <div class="editor-section">
        <h4>Button Box</h4>
        <div class="editor-row">
          <label>Fill:</label>
          <input type="color" class="palette-editor-color-picker" data-target="buttonFill">
          <input type="text" id="buttonFill" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Border:</label>
          <input type="color" class="palette-editor-color-picker" data-target="buttonBorder">
          <input type="text" id="buttonBorder" class="palette-editor-color-input" placeholder="#333333">
        </div>
        <div class="editor-row">
          <label>Text Color:</label>
          <input type="color" class="palette-editor-color-picker" data-target="buttonColor">
          <input type="text" id="buttonColor" class="palette-editor-color-input" placeholder="#000000">
        </div>
      </div>

      <!-- Accordion Box Colors -->
      <div class="editor-section">
        <h4>Accordion Box</h4>
        <div class="editor-row">
          <label>Fill:</label>
          <input type="color" class="palette-editor-color-picker" data-target="accordionFill">
          <input type="text" id="accordionFill" class="palette-editor-color-input" placeholder="#ffffff">
        </div>
        <div class="editor-row">
          <label>Border:</label>
          <input type="color" class="palette-editor-color-picker" data-target="accordionBorder">
          <input type="text" id="accordionBorder" class="palette-editor-color-input" placeholder="#333333">
        </div>
        <div class="editor-row">
          <label>Text Color:</label>
          <input type="color" class="palette-editor-color-picker" data-target="accordionColor">
          <input type="text" id="accordionColor" class="palette-editor-color-input" placeholder="#000000">
        </div>
      </div>
    </div>

    <div class="palette-editor-actions">
      <button id="applyPalettePreviewBtn" class="btn-action">Apply</button>
      <button id="undoPalettePreviewBtn" class="btn-action">Undo</button>
      <button id="savePaletteBtn" class="btn-primary">Save As New Palette</button>
      <button id="cancelPaletteEditorBtn" class="btn-secondary">Cancel</button>
    </div>
  </div>

  <!-- @agent:StyleOverrides:authority -->
  <!-- Style Override Panel -->
  <div id="styleOverridePanel" class="editor-panel hidden">
    <div class="style-override-header">
      <h3>Style Override for: <span id="overrideBoxName"></span></h3>
      <button id="closeStyleOverrideBtn" class="close-btn">√ó</button>
    </div>

    <div class="style-override-content">
      <!-- Current Palette Reference -->
      <div class="palette-reference-section">
        <label>Current Palette (<span id="currentPaletteName"></span>):</label>
        <div class="color-reference-row">
          <div class="color-swatch-container">
            <div class="color-swatch" id="paletteRefFill"></div>
            <span>Fill</span>
          </div>
          <div class="color-swatch-container">
            <div class="color-swatch" id="paletteRefBorder"></div>
            <span>Border</span>
          </div>
          <div class="color-swatch-container">
            <div class="color-swatch" id="paletteRefText"></div>
            <span>Text</span>
          </div>
        </div>
      </div>

      <hr class="section-divider">

      <!-- Override Colors -->
      <div class="override-colors-section">
        <label>Override Colors:</label>

        <div class="override-color-row">
          <span class="color-label">Fill Color:</span>
          <input type="color" id="overrideFillPicker" class="color-picker">
          <div class="color-preview" id="overrideFillPreview"></div>
          <input type="text" id="overrideFillHex" class="hex-input" maxlength="7" placeholder="#ffffff">
        </div>

        <div class="override-color-row">
          <span class="color-label">Border Color:</span>
          <input type="color" id="overrideBorderPicker" class="color-picker">
          <div class="color-preview" id="overrideBorderPreview"></div>
          <input type="text" id="overrideBorderHex" class="hex-input" maxlength="7" placeholder="#333333">
        </div>

        <div class="override-color-row">
          <span class="color-label">Text Color:</span>
          <input type="color" id="overrideTextPicker" class="color-picker">
          <div class="color-preview" id="overrideTextPreview"></div>
          <input type="text" id="overrideTextHex" class="hex-input" maxlength="7" placeholder="#000000">
        </div>
      </div>

      <button id="resetToPaletteBtn" class="reset-btn">Reset to Palette</button>

      <div class="applying-to-info" id="applyingToInfo"></div>
    </div>

    <div class="style-override-actions">
      <button id="cancelStyleOverrideBtn" class="btn-secondary">Cancel</button>
      <button id="applyStyleOverrideBtn" class="btn-primary">Apply</button>
    </div>
  </div>

  <!-- @agent:StyleOverrides:authority -->
  <!-- Region Color Override Panel -->
  <div id="regionColorPanel" class="region-color-panel hidden">
    <div class="region-color-header">
      <h3>Background Color: <span id="regionName"></span></h3>
      <button id="closeRegionColorBtn" class="close-btn">√ó</button>
    </div>

    <div class="region-color-content">
      <div class="palette-info">
        <label>Current Palette (<span id="regionPaletteName"></span>):</label>
        <div class="palette-color-swatch" id="regionPaletteSwatch"></div>
      </div>

      <div class="color-picker-row">
        <label>Override Color:</label>
        <input type="color" id="regionColorPicker" class="color-picker">
        <input type="text" id="regionColorHex" class="hex-input" maxlength="7" placeholder="#ffffff">
      </div>
    </div>

    <div class="region-color-actions">
      <button id="resetRegionColorBtn" class="btn-secondary">Reset to Palette</button>
      <button id="cancelRegionColorBtn" class="btn-secondary">Cancel</button>
      <button id="applyRegionColorBtn" class="btn-primary">Apply</button>
    </div>
  </div>

  <!-- Hidden file input for images -->
  <input type="file" id="imageInput" accept="image/*" style="display: none;">

  <!-- Hidden file input for opening files -->
  <input type="file" id="fileInput" accept=".json" style="display: none;">

  <script src="app.js"></script>
</body>
</html>
